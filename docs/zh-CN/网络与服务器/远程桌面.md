# 前提知识



远程桌面原理

![img](https://cdn.nlark.com/yuque/0/2024/png/35159676/1706597044082-400f2ff9-6844-4bfa-b4be-bb052a325152.png)

1. rdp 是微软的桌面控制协议，具体内容不是开源的，只能用于windows。 客户端是调用api，所以是开源可以自己做的，免费的有很多，windows自己也有，服务程序winodws高级版本自带，当然也有开源第三方集成api的服务程序。
2. vnc 和rdp是同样的道理，只不过这个协议是完全开源的，适用于任何操作系统，mac 的远程桌面也是基于vnc。
3. 第三方控制协议，这个没有什么标准，就是实时展示屏幕，然后调用系统的api控制鼠标键盘等事件，比较著名的软件有，teamviwer, 向日葵。

# meshctrol

1. 他是一个支持rdp,vnc的客户端，且支持内外p2p穿透。
2. 另外它有自己的控制协议。
3. 它的客户端是c，服务端是nodejs。

# 开发属于自己集群集群桌面控制的方案

1. 修改meshctrol

优点：

功能多

缺点：

项目庞大，我们不是集成，是修改，继承是它本身支持被别人继承，面向的是开发者者，它本身是独立产品，他也不欢迎自己被别人嵌入，失去自己的地位，所以以两个人去改这个项目，要保证实用性流畅的情况下，时间成本很高，可维护性很差。



2. 第三方 rdp和vnc工具

目前有guacamole， go类的。

优点：

接入实现时间成本比前面的低，因为是面向开发者的项目

缺点：

只能以会话的方式使用，也就是只能支持rdp和vnc，会话的含义是，只能允许一个用户登录控制电脑。

控制权限实现的时间成本，页面嵌入的时间成本。

3. 自己开发一个控制协议软件

优点：

完全可控，功能随便改，可维护性最高，完全可以成为一个商业产品，我们有能力有计划方案来实现。

缺点：

需要用到c语言，开发时间成本最高，对开发人员的要求更高，未来需要有相关知识的人才能接手维护。



# RDPWrap

普通家庭版本的windows系统并不支持远程控制，支持远程控制也不支持多客户端会话这个开源程序可以实现这个功能。

安装这个看网上的教程就好了，安装完会在`C:\Program Files\RDP Wrapper` 目录下生成一些文件，这些文件在win10和win11上很可能会需要高版本的配置，为了省区繁琐的操作，这里我也做成了一个[安装程序](https://github.com/xiaobaidadada/xiaobaidadada.github.io/releases/download/untagged-24a3f9d59fc59ea61ebe/redpwSetup.exe)，只需要点下一步安装就好了(不要自定义安装目录)。

